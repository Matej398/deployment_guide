<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>website deployment guide</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        /* Light theme (default) */
        body {
            font-family: 'JetBrains Mono', 'Courier New', monospace;
            background: #fff;
            color: #333;
            line-height: 1.8;
            padding: 40px 20px;
            font-size: 14px;
            transition: background 0.3s, color 0.3s;
        }

        /* Dark theme */
        body.dark-theme {
            background: #1e2a3a;
            color: #b4bcc8;
        }

        .terminal {
            max-width: 1200px;
            margin: 0 auto;
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: transparent;
            border: none;
            color: #333;
            padding: 8px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.2em;
            line-height: 1;
        }

        .dark-theme .theme-toggle {
            color: #8b9dc3;
        }

        .theme-toggle:hover {
            color: #000;
        }

        .dark-theme .theme-toggle:hover {
            color: #a8b5c9;
        }

        .project-config-btn {
            position: fixed;
            top: 20px;
            right: 70px;
            background: transparent;
            border: 1px solid #ddd;
            color: #333;
            padding: 8px 16px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85em;
        }

        .dark-theme .project-config-btn {
            border-color: #8b9dc3;
            color: #8b9dc3;
        }

        .project-config-btn:hover {
            background: #333;
            color: #fff;
            border-color: #333;
        }

        .dark-theme .project-config-btn:hover {
            background: #8b9dc3;
            color: #8b9dc3;
            border-color: #8b9dc3;
        }

        h1 {
            margin-bottom: 40px;
            font-size: 2em;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }

        .dark-theme h1 {
            border-color: #8b9dc3;
        }

        h2 {
            margin-top: 40px;
            margin-bottom: 20px;
            color: #000;
            font-size: 1.5em;
        }

        .dark-theme h2 {
            color: #8b9dc3;
        }

        h3 {
            margin-top: 25px;
            margin-bottom: 15px;
            color: #000;
            font-size: 1.2em;
        }

        .dark-theme h3 {
            color: #8b9dc3;
        }

        .section {
            margin-bottom: 40px;
        }

        .code-block {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
            margin: 10px 0;
            position: relative;
            font-family: 'JetBrains Mono', monospace;
            overflow-x: auto;
        }

        .dark-theme .code-block {
            background: #2d3748;
            border-color: #4a5568;
        }

        code {
            white-space: pre;
            display: block;
            font-family: 'JetBrains Mono', monospace;
            color: #333;
        }

        .dark-theme code {
            color: #b4bcc8;
        }

        .copy-btn {
            position: absolute;
            top: 5px;
            right: 5px;
            background: #333;
            color: #fff;
            border: none;
            padding: 5px 10px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.8em;
        }

        .dark-theme .copy-btn {
            background: #8b9dc3;
            color: #1e2a3a;
        }

        .copy-btn:hover {
            background: #000;
        }

        .dark-theme .copy-btn:hover {
            background: #a8b5c9;
        }

        .copy-btn.copied {
            background: #28a745;
        }

        .comment {
            color: #6c757d;
        }

        .dark-theme .comment {
            color: #8b9dc3;
        }

        .info {
            background: #e7f3ff;
            border-left: 3px solid #2196F3;
            padding: 10px 15px;
            margin: 10px 0;
        }

        .dark-theme .info {
            background: #1a2332;
            border-color: #8b9dc3;
        }

        .warning {
            background: #fff3cd;
            border-left: 3px solid #ffc107;
            padding: 10px 15px;
            margin: 10px 0;
        }

        .dark-theme .warning {
            background: #2d2410;
            border-color: #ffc107;
        }

        .success {
            background: #d4edda;
            border-left: 3px solid #28a745;
            padding: 10px 15px;
            margin: 10px 0;
        }

        .dark-theme .success {
            background: #1a2d1a;
            border-color: #28a745;
        }

        ol, ul {
            margin: 10px 0 10px 20px;
        }

        li {
            margin: 5px 0;
        }

        a {
            color: #2196F3;
            text-decoration: none;
        }

        .dark-theme a {
            color: #8b9dc3;
        }

        a:hover {
            text-decoration: underline;
        }

        hr {
            margin: 30px 0;
            border: none;
            border-top: 1px solid #ddd;
        }

        .dark-theme hr {
            border-color: #4a5568;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .card {
            background: #f5f5f5;
            border: 1px solid #ddd;
            padding: 15px;
        }

        .dark-theme .card {
            background: #2d3748;
            border-color: #4a5568;
        }

        .project-name {
            background: #fffacd;
            padding: 2px 6px;
            font-weight: bold;
        }

        .dark-theme .project-name {
            background: #4a5020;
        }

        .collapsible {
            background-color: #333;
            color: #fff;
            cursor: pointer;
            padding: 12px;
            width: 100%;
            border: none;
            text-align: left;
            outline: none;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1em;
            margin-top: 10px;
        }

        .dark-theme .collapsible {
            background-color: #8b9dc3;
            color: #1e2a3a;
        }

        .collapsible:hover {
            background-color: #000;
        }

        .dark-theme .collapsible:hover {
            background-color: #a8b5c9;
        }

        .collapsible:after {
            content: '\002B';
            color: #fff;
            font-weight: bold;
            float: right;
            margin-left: 5px;
        }

        .dark-theme .collapsible:after {
            color: #1e2a3a;
        }

        .collapsible.active:after {
            content: "\2212";
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.2s ease-out;
            background-color: #f5f5f5;
            border: 1px solid #ddd;
            border-top: none;
        }

        .dark-theme .collapsible-content {
            background-color: #2d3748;
            border-color: #4a5568;
        }

        .collapsible-content > div {
            padding: 15px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.4);
        }

        .modal.show {
            display: block;
        }

        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 30px;
            border: 1px solid #888;
            width: 90%;
            max-width: 500px;
            font-family: 'JetBrains Mono', monospace;
        }

        .dark-theme .modal-content {
            background-color: #2d3748;
            border-color: #4a5568;
        }

        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
        }

        .close:hover {
            color: #000;
        }

        .dark-theme .close:hover {
            color: #fff;
        }

        .modal input {
            width: 100%;
            padding: 10px;
            margin: 15px 0;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1em;
            border: 1px solid #ddd;
            background: #fff;
            color: #333;
        }

        .dark-theme .modal input {
            background: #1e2a3a;
            border-color: #4a5568;
            color: #b4bcc8;
        }

        .modal button {
            background: #333;
            color: #fff;
            border: none;
            padding: 10px 20px;
            cursor: pointer;
            font-family: 'JetBrains Mono', monospace;
            font-size: 1em;
            width: 100%;
            margin-top: 10px;
        }

        .dark-theme .modal button {
            background: #8b9dc3;
            color: #1e2a3a;
        }

        .modal button:hover {
            background: #000;
        }

        .dark-theme .modal button:hover {
            background: #a8b5c9;
        }
    </style>
</head>
<body>
    <button class="theme-toggle" onclick="toggleTheme()">‚óê</button>
    <button class="project-config-btn" onclick="openModal()">set project name</button>

    <!-- Modal -->
    <div id="projectModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 style="margin-top: 0;">configure project name</h2>
            <p>enter your project name:</p>
            <input type="text" id="projectName" placeholder="my-new-project" value="my-new-project">
            <button onclick="updateProjectName()">update</button>
        </div>
    </div>

    <div class="terminal">
        <h1>website deployment guide</h1>
        <p>workflow: vs code ‚Üí mamp ‚Üí github ‚Üí auto-deploy to hostinger</p>

        <button class="collapsible">prerequisites (click to expand/collapse)</button>
        <div class="collapsible-content">
            <div>
                <h3>required software</h3>
                <ul>
                    <li>visual studio code: <a href="https://code.visualstudio.com" target="_blank">code.visualstudio.com</a></li>
                    <li>mamp (for php projects): <a href="https://www.mamp.info" target="_blank">mamp.info</a></li>
                    <li>git: <a href="https://git-scm.com" target="_blank">git-scm.com</a></li>
                    <li>github account: <a href="https://github.com" target="_blank">github.com</a></li>
                </ul>

                <h3>configure git (first time only)</h3>
                <p>set your name and email (required before first commit):</p>
                <div class="code-block">
                    <code>git config --global user.name "Your Name"</code>
                    <button class="copy-btn" onclick="copyCode(this)">copy</button>
                </div>
                <div class="code-block">
                    <code>git config --global user.email "your-email@example.com"</code>
                    <button class="copy-btn" onclick="copyCode(this)">copy</button>
                </div>
                <div class="info">use the same email as your github account</div>

                <p>verify configuration:</p>
                <div class="code-block">
                    <code>git config --global user.name
git config --global user.email</code>
                    <button class="copy-btn" onclick="copyCode(this)">copy</button>
                </div>

                <h3>github authentication (personal access token)</h3>
                <p>github requires a personal access token instead of password:</p>
                <ol>
                    <li>go to <a href="https://github.com/settings/tokens" target="_blank">github.com/settings/tokens</a></li>
                    <li>click "Generate new token" ‚Üí "Generate new token (classic)"</li>
                    <li>give it a name: "deployment" or "git-access"</li>
                    <li>set expiration: choose "no expiration" or custom date</li>
                    <li>check the <strong>"repo"</strong> permission (full control of repositories)</li>
                    <li>scroll down and click "Generate token"</li>
                    <li><strong>copy the token immediately</strong> - you'll only see it once!</li>
                    <li>save it somewhere safe (password manager or text file)</li>
                </ol>

                <p style="margin-top: 15px;"><strong>using the token:</strong></p>
                <p>when git asks for password during push, paste your token instead of your github password</p>
                
                <div class="warning" style="margin-top: 15px;">
                    save your token! if you lose it, you'll need to generate a new one
                </div>
            </div>
        </div>

        <div class="section">
            <h2>step 1: create project</h2>
            <ol>
                <li>open visual studio code</li>
                <li>create project folder: <span class="project-name">my-new-project</span></li>
                <li>write your code</li>
            </ol>
            <div class="info">use lowercase with hyphens for project names</div>
        </div>

        <div class="section">
            <h2>step 2 (php projects only): local testing with mamp</h2>
            <ol>
                <li>open mamp</li>
                <li>click mamp -> preferences -> server tab</li>
                <li>in "Document Root" click "Select" button</li>
                <li>navigate to your project folder and select it</li>
                <li>click ok and start mamp server</li>
            </ol>
            <p>test in browser:</p>
            <div class="code-block">
                <code>http://localhost:8888</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="info">for static html/css/js projects, skip this step and just open index.html in your browser</div>
        </div>

        <div class="section">
            <h2>step 3: create github repository</h2>
            <ol>
                <li>go to <a href="https://github.com" target="_blank">github.com</a></li>
                <li>click [+] new repository</li>
                <li>name: <span class="project-name">my-new-project</span></li>
                <li>do not initialize with readme</li>
                <li>click create repository</li>
            </ol>
        </div>

        <div class="section">
            <h2>step 4: push to github</h2>
            
            <h3>first time setup</h3>
            <p>navigate to project:</p>
            <div class="code-block">
                <code>cd C:\Users\Matej\Desktop\codelabhaven\projects\<span class="project-name">my-new-project</span></code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>initialize git:</p>
            <div class="code-block">
                <code>git init</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>stage files:</p>
            <div class="code-block">
                <code>git add .</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>create commit:</p>
            <div class="code-block">
                <code>git commit -m "Initial commit"</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>set branch:</p>
            <div class="code-block">
                <code>git branch -M main</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>link remote:</p>
            <div class="code-block">
                <code>git remote add origin https://github.com/Matej398/<span class="project-name">my-new-project</span>.git</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="warning">replace <span class="project-name">my-new-project</span> with your repository name using the config above</div>

            <p>push to github:</p>
            <div class="code-block">
                <code>git push -u origin main</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <hr>

            <h3>future updates</h3>
            <p>after making changes, run these three commands:</p>
            <div class="code-block">
                <code>git add .
git commit -m "describe your changes"
git push</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <div class="success">changes deployed to github, auto-deploy to server initiated</div>
        </div>

        <div class="section">
            <h2>step 5: configure auto-deployment (one time per project)</h2>
            
            <div class="info">
                <strong>this is easier than you think!</strong> no manual cloning needed - just add config and webhook, then push!
            </div>

            <h3>5.1 generate unique secret for your project</h3>
            <p>each project should have its own unique secret for security.</p>
            
            <p><strong>open powershell and run this command:</strong></p>
            <div class="code-block">
                <code>([System.BitConverter]::ToString((1..32 | ForEach-Object { Get-Random -Maximum 256 })) -replace '-','').ToLower()</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>this generates a 64-character secret that matches your existing format</p>

            <div class="warning">
                <strong>save this secret!</strong> you'll need it for both repositories.json and github webhook
            </div>

            <h3>5.2 add project to repositories.json</h3>
            
            <p><strong>option a: using filezilla (easier)</strong></p>
            <ol>
                <li>open filezilla and connect:
                    <ul>
                        <li>host: <strong>srv751763.hstgr.cloud</strong></li>
                        <li>username: <strong>root</strong></li>
                        <li>password: your ssh password</li>
                        <li>port: <strong>22</strong></li>
                    </ul>
                </li>
                <li>navigate to: <strong>/var/www/html/codelabhaven/</strong></li>
                <li>right-click <strong>repositories.json</strong> ‚Üí "view/edit"</li>
                <li>it opens in your text editor</li>
            </ol>

            <p><strong>option b: using ssh terminal</strong></p>
            <div class="code-block">
                <code>ssh root@srv751763.hstgr.cloud</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="code-block">
                <code>nano /var/www/html/codelabhaven/repositories.json</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>add your project to the repositories array (add a comma after the last project, then add this):</p>
            <div class="code-block">
                <code>{
    "name": "<span class="project-name">my-new-project</span>",
    "owner": "Matej398",
    "branch": "main",
    "path": "/var/www/html/codelabhaven/projects/<span class="project-name">my-new-project</span>",
    "secret": "YOUR_GENERATED_SECRET_HERE",
    "post_commands": []
}</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="warning">
                replace <strong>YOUR_GENERATED_SECRET_HERE</strong> with the secret you generated in step 5.1
            </div>

            <p>save the file:</p>
            <ul>
                <li><strong>filezilla:</strong> ctrl+s (auto-uploads back to server)</li>
                <li><strong>nano:</strong> ctrl+o, enter, then ctrl+x to exit</li>
            </ul>

            <h3>5.3 set up github webhook (one time per project)</h3>
            <p>now configure github to trigger deployments when you push code:</p>

            <ol>
                <li>go to your repository on <a href="https://github.com" target="_blank">github.com</a></li>
                <li>click <strong>settings</strong> (top menu bar)</li>
                <li>click <strong>webhooks</strong> (left sidebar)</li>
                <li>click <strong>add webhook</strong> (green button)</li>
                <li>github will ask for your password - enter it to confirm</li>
            </ol>

            <p><strong>webhook configuration:</strong></p>
            
            <p><strong>payload url:</strong> (copy this exactly)</p>
            <div class="code-block">
                <code>https://codelabhaven.com/gh-hooks/webhook-handler.php</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p><strong>content type:</strong></p>
            <ul>
                <li>select: <strong>application/json</strong> from dropdown</li>
            </ul>

            <p><strong>secret:</strong> (paste the secret you generated in step 5.1)</p>
            <div class="code-block">
                <code>paste your unique secret here</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
            <div class="warning">
                <strong>important:</strong> use the SAME secret you put in repositories.json!
            </div>

            <p><strong>which events would you like to trigger this webhook?</strong></p>
            <ul>
                <li>select: <strong>just the push event</strong> (default option)</li>
            </ul>

            <p><strong>active:</strong></p>
            <ul>
                <li>make sure the checkbox is <strong>checked ‚úì</strong></li>
            </ul>

            <p>click the green <strong>add webhook</strong> button at the bottom</p>

            <div class="success">
                webhook created! github will now notify your server every time you push code
            </div>

            <h3>5.4 that's it! now just push to deploy</h3>
            <div class="success">
                <strong>from now on, every time you push to github:</strong><br>
                1. webhook triggers automatically<br>
                2. server clones repo (first push only)<br>
                3. future pushes just pull updates<br>
                4. your site is live!
            </div>

            <p>test it by making a change and pushing:</p>
            <div class="code-block">
                <code>git add .
git commit -m "test auto-deploy"
git push</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <p>your site should be live at:</p>
            <div class="code-block">
                <code>https://codelabhaven.com/projects/<span class="project-name">my-new-project</span>/</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
        </div>

        <div class="section">
            <h2>step 6: automated deployment active</h2>
            <p>workflow:</p>
            <p>1. edit code ‚Üí 2. test mamp ‚Üí 3. git push ‚Üí 4. webhook ‚Üí 5. live</p>
            
            <p>quick deploy commands:</p>
            <div class="code-block">
                <code>git add .
git commit -m "your changes"
git push</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
        </div>

        <div class="section">
            <h2>command reference</h2>
            <div class="grid">
                <div class="card">
                    <p>git status</p>
                    <p class="comment">check repository state</p>
                </div>
                <div class="card">
                    <p>git diff</p>
                    <p class="comment">view file changes</p>
                </div>
                <div class="card">
                    <p>git log</p>
                    <p class="comment">view commit history</p>
                </div>
                <div class="card">
                    <p>git checkout -- file</p>
                    <p class="comment">discard changes</p>
                </div>
                <div class="card">
                    <p>git pull</p>
                    <p class="comment">fetch latest changes</p>
                </div>
                <div class="card">
                    <p>git checkout -b branch</p>
                    <p class="comment">create new branch</p>
                </div>
            </div>
        </div>

        <div class="section">
            <h2>troubleshooting</h2>
            
            <h3>authentication failed</h3>
            <p>solution: use personal access token</p>
            <ol>
                <li>github -> settings -> developer settings</li>
                <li>personal access tokens -> tokens classic</li>
                <li>generate token with repo permissions</li>
                <li>use token as password when prompted</li>
            </ol>

            <h3>repository not found</h3>
            <p>solution: verify remote url</p>
            <div class="code-block">
                <code>git remote -v</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>

            <h3>webhook not triggering</h3>
            <p>diagnostics:</p>
            <ol>
                <li>github ‚Üí settings ‚Üí webhooks ‚Üí recent deliveries (check for errors)</li>
                <li>verify webhook url is correct: <strong>https://codelabhaven.com/gh-hooks/webhook-handler.php</strong></li>
                <li>verify secret matches between repositories.json and github webhook</li>
                <li>check server logs via ssh:
                    <div class="code-block">
                        <code>ssh root@srv751763.hstgr.cloud
tail -f /var/www/html/codelabhaven/gh-hooks/deploy.log</code>
                        <button class="copy-btn" onclick="copyCode(this)">copy</button>
                    </div>
                </li>
                <li>test webhook manually in github:
                    <ul>
                        <li>go to settings ‚Üí webhooks ‚Üí click your webhook</li>
                        <li>scroll down to "recent deliveries"</li>
                        <li>click "redeliver" on any delivery to test</li>
                    </ul>
                </li>
            </ol>

            <h3>merge conflicts</h3>
            <p>solution:</p>
            <div class="code-block">
                <code><span class="comment"># check conflicted files</span>
git status

<span class="comment"># edit files to resolve</span>
<span class="comment"># then stage and commit</span>
git add .
git commit -m "resolved conflicts"
git push</code>
                <button class="copy-btn" onclick="copyCode(this)">copy</button>
            </div>
        </div>

        <div class="section">
            <h2>best practices</h2>
            <ul>
                <li>commit frequently with clear messages</li>
                <li>use branches for experimental features</li>
                <li>run git status before commits</li>
                <li>write descriptive commit messages</li>
                <li>always test locally before deploying</li>
            </ul>
        </div>

        <hr>
        <p>system: vs code -> mamp -> github -> hostinger vps (srv751763.hstgr.cloud)</p>
        <p>webhook: https://codelabhaven.com/gh-hooks/webhook-handler.php</p>
        <p>config: /var/www/html/codelabhaven/repositories.json</p>
        <p>status: operational ‚úì</p>
    </div>

    <script>
        // Modal functions
        function openModal() {
            document.getElementById('projectModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('projectModal').classList.remove('show');
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('projectModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Project name update functionality
        function updateProjectName() {
            let projectName = document.getElementById('projectName').value.trim() || 'my-new-project';
            
            // Replace spaces with underscores and convert to lowercase
            projectName = projectName.toLowerCase().replace(/\s+/g, '_');
            
            // Update the input field to show the formatted name
            document.getElementById('projectName').value = projectName;
            
            const projectNameElements = document.querySelectorAll('.project-name');
            
            projectNameElements.forEach(element => {
                element.textContent = projectName;
            });

            // Save to localStorage
            localStorage.setItem('projectName', projectName);
            
            // Close modal
            closeModal();
        }

        // Load saved project name
        window.addEventListener('DOMContentLoaded', () => {
            const savedProjectName = localStorage.getItem('projectName');
            if (savedProjectName) {
                document.getElementById('projectName').value = savedProjectName;
                updateProjectName();
            }
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }
        });

        // Theme toggle functionality
        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            const isDark = document.body.classList.contains('dark-theme');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        }

        // Copy functionality
        function copyCode(button) {
            const codeBlock = button.parentElement;
            const code = codeBlock.querySelector('code').textContent;
            
            navigator.clipboard.writeText(code).then(() => {
                button.textContent = '[copied]';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = 'copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(err => {
                const textArea = document.createElement('textarea');
                textArea.value = code;
                textArea.style.position = 'fixed';
                textArea.style.opacity = '0';
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                button.textContent = '[copied]';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.textContent = 'copy';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Collapsible toggle function
        function toggleCollapsible(button) {
            button.classList.toggle('active');
            const content = button.nextElementSibling;
            
            if (content.style.maxHeight) {
                content.style.maxHeight = null;
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
            }
        }

        // Collapsible functionality - Initialize after DOM loads
        function initCollapsibles() {
            const collapsibles = document.querySelectorAll('.collapsible');
            
            collapsibles.forEach(collapsible => {
                collapsible.onclick = function() {
                    this.classList.toggle('active');
                    const content = this.nextElementSibling;
                    
                    if (content.style.maxHeight) {
                        content.style.maxHeight = null;
                    } else {
                        content.style.maxHeight = content.scrollHeight + 'px';
                    }
                };
            });
        }

        // Load saved project name and initialize collapsibles
        window.addEventListener('DOMContentLoaded', () => {
            const savedProjectName = localStorage.getItem('projectName');
            if (savedProjectName) {
                document.getElementById('projectName').value = savedProjectName;
                updateProjectName();
            }
            
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-theme');
            }

            // Initialize collapsibles
            initCollapsibles();
        });
    </script>
</body>
</html>